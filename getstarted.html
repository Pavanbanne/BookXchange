<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <style>
        .bg-get {
            background-image: linear-gradient(to right, #380258cc, maroon);
            color: white;
            margin: 0px;
            padding-bottom: 20px;
            border: 0px;
            padding-bottom: 20px;
        }
        .flip-card {
            background-color: transparent;
            width: 400px;
            height: 400px;                   
            perspective: 1000px;
            margin: auto;
        }
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            transform: rotateY(0deg);
        }
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .flip-card-front {
            background-color: transparent;
            color: black;
            
        }
        .flip-card-back {
            background-color: transparent;
            color: white;
            transform: rotateY(180deg);
        }
        form {
            border: 2px solid rgb(152, 136, 136);
            width: 90%;
            border-radius: 16px;
            margin: auto;
            padding-bottom: 5px;
            background-color: #ffffff;
            color: black;

        }
    </style>
</head>
<body>
<div class="bg-get">
    <h1 class="text-center p-5">Get Started with BookXchange</h1>
    <div class="flip-card">
        <div class="flip-card-inner">
            <div class="flip-card-front">
                <form class="text-center shadow" action="">
                    <h3 class="text-center p-3">Signup Here</h3>
                    <input id="signup_user_name" type="text" placeholder="username" class="mb-3 p-2 rounded"><br>
                    <input id="signup_user_email" type="email" placeholder="email" class="mb-3 p-2 rounded"><br>
                    <input id="signup_user_pass" type="password" placeholder="password" class="mb-3 p-2 rounded"><br>
                    <input type="password" id="con_pass" placeholder="Confirm Password" class="mb-3 p-2 rounded"><br>
                    <button type="button" class="btn btn-primary mb-3" onclick="getdetails(event)">Signup</button><br>
                    <a href="#" onclick="flipCard(event)">Already have an account?</a>
                </form>
            </div>
            <div class="flip-card-back ">
                <form class="text-center" action="">
                    <h1>Login Here</h1>
                    <input id="login_user_name" type="text" placeholder="username" class="mb-3 p-2 rounded"><br>
                    <input id="login_user_pass" type="password" placeholder="password" class="mb-3 p-2 rounded"><br>
                    <button type="button" class="btn btn-primary mb-3" onclick="validate(event)">Login</button>
                    <button type="button" class="btn btn-primary ms-5 mb-3" onclick="flipCard(event)">Signup</button><br>
                    <a href="#">forgot password?</a>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
function getdetails(event) {
    event.preventDefault();
    const username = document.getElementById('signup_user_name').value;
    const con_password = document.getElementById('con_pass').value;
    const password = document.getElementById('signup_user_pass').value;
    const email = document.getElementById('signup_user_email').value;
    localStorage.setItem('username', username);
    localStorage.setItem('email', email);
    localStorage.setItem('password', password);
    if(password !== con_password){
        alert('Passwords do not match. Please try again.');
        return;
    }
    if (username && email && (password === con_password)) {
        alert('Signup successful!');
        flipCard(event);
    } else {
        alert('Please fill in all fields.');
    }
}

function validate(event) {
    event.preventDefault();
    const username = document.getElementById('login_user_name').value;
    const password = document.getElementById('login_user_pass').value;
    const storedUsername = localStorage.getItem('username');
    const storedPassword = localStorage.getItem('password');
    if(storedUsername ==="null" && storedPassword === "null"){
        alert('No account found. Please sign up first.');
        return;
    }
    if (username === storedUsername && password === storedPassword) {
        alert('Login successful!');
        window.location.href='home.html';
    } else {
        alert('Invalid username or password. Please try again.');
    }
}

function flipCard(event) {
    event.preventDefault();
    const card = document.querySelector('.flip-card-inner');
    if (card.style.transform === 'rotateY(180deg)') {
        card.style.transform = 'rotateY(0deg)';
    } else {
        card.style.transform = 'rotateY(180deg)';
    }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>